\hypertarget{class_duck_lora}{}\doxysection{Duck\+Lora Class Reference}
\label{class_duck_lora}\index{DuckLora@{DuckLora}}


Internal Lo\+Ra chip abstraction.  




{\ttfamily \#include $<$Duck\+Lora.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{class_duck_lora_a78f90934cee9a88727ed0ee1620d38e2}{setup\+Lo\+Ra}} (\mbox{\hyperlink{struct_lora_config_params}{Lora\+Config\+Params}} config, String device\+Id)
\begin{DoxyCompactList}\small\item\em Initialize the Lo\+Ra chip. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_duck_lora_a498cb19262425f8dd564da347bbb6b55}{handle\+Packet}} ()
\begin{DoxyCompactList}\small\item\em Handle a \mbox{\hyperlink{class_duck}{Duck}} Lo\+Ra packet. \end{DoxyCompactList}\item 
String \mbox{\hyperlink{class_duck_lora_adb3312c322af099174f85c76c3886ba6}{get\+Packet\+Data}} (int p\+Size)
\begin{DoxyCompactList}\small\item\em Get the last received Lo\+Ra packet. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_duck_lora_aa7de4996461442a51cf3e268782608bd}{send\+Payload\+Standard}} (String msg=\char`\"{}\char`\"{}, String topic=\char`\"{}\char`\"{}, String sender\+Id=\char`\"{}\char`\"{}, String message\+Id=\char`\"{}\char`\"{}, String path=\char`\"{}\char`\"{})
\begin{DoxyCompactList}\small\item\em Send a message out into the Lo\+Ra mesh network. \end{DoxyCompactList}\item 
\mbox{\hyperlink{struct_packet}{Packet}} \mbox{\hyperlink{class_duck_lora_afc4409e4ee7834972d25f67e33d0bda0}{get\+Last\+Packet}} ()
\begin{DoxyCompactList}\small\item\em Get the last received Lo\+Ra packet. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_duck_lora_a6fc1b69d5602ef969198fa0be9d125c0}{couple}} (byte byte\+Code, String outgoing)
\begin{DoxyCompactList}\small\item\em Append a chunk to the packet. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_duck_lora_a8b4c9558526d6a7131e0e6290cf7583f}{id\+In\+Path}} (String path)
\begin{DoxyCompactList}\small\item\em Determine if a \mbox{\hyperlink{class_duck}{Duck}} device\+\_\+id is present in the path. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_duck_lora_a7e17d8f0d816ec5debbe76c9ea370626}{lora\+Packet\+Received}} ()
\begin{DoxyCompactList}\small\item\em Check if a received packet is available for processing. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_duck_lora_ae424ab4952338bc47cede61085af93a7}{start\+Receive}} ()
\begin{DoxyCompactList}\small\item\em Set the \mbox{\hyperlink{class_duck}{Duck}} to be ready to recieve Lo\+Ra packets. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_duck_lora_a9b9af508f6c47491779d84e62e98501a}{transmit\+Data}} ()
\begin{DoxyCompactList}\small\item\em Set the \mbox{\hyperlink{class_duck}{Duck}} to be ready to transmit Lo\+Ra packets. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_duck_lora_a9806fb3b84eef06b1e6339b2ef315703}{get\+R\+S\+SI}} ()
\begin{DoxyCompactList}\small\item\em Get the current R\+S\+SI value. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_duck_lora_a1a5fac56f3a1c6df40bcdbb7346cc373}\label{class_duck_lora_a1a5fac56f3a1c6df40bcdbb7346cc373}} 
void \mbox{\hyperlink{class_duck_lora_a1a5fac56f3a1c6df40bcdbb7346cc373}{reset\+Packet\+Index}} ()
\begin{DoxyCompactList}\small\item\em Reset the index of the received \mbox{\hyperlink{struct_packet}{Packet}} buffer. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_duck_lora_a66a1014d0144145bac4e8ff42bec0b95}{get\+Packet\+Index}} ()
\begin{DoxyCompactList}\small\item\em Get the current packet buffer index. \end{DoxyCompactList}\item 
byte $\ast$ \mbox{\hyperlink{class_duck_lora_a8ab70020c87dd3d2f2b0b00cf03e1f53}{get\+Transmission\+Buffer}} ()
\begin{DoxyCompactList}\small\item\em Get the transmission buffer. \end{DoxyCompactList}\item 
byte \mbox{\hyperlink{class_duck_lora_a46038e68b83b7c007ec5b59fe63cfec0}{get\+Transmited\+Byte}} (int index)
\begin{DoxyCompactList}\small\item\em Get the transmited byte at the given index in the transmission buffer. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_duck_lora_af9312284784b8e32ed26a3448a1e8816}{ping}} ()
\begin{DoxyCompactList}\small\item\em Transmit a ping message. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_duck_lora_a697bcb3b4b86a89e435e9847ea53133c}{stand\+By}} ()
\begin{DoxyCompactList}\small\item\em Set the Lo\+Ra chip in standby mode. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_duck_lora_a755857e37d66d10e2c6f4460f461026d}\label{class_duck_lora_a755857e37d66d10e2c6f4460f461026d}} 
void \mbox{\hyperlink{class_duck_lora_a755857e37d66d10e2c6f4460f461026d}{reset\+Transmission\+Buffer}} ()
\begin{DoxyCompactList}\small\item\em Clear and Reset the transmission buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{class_duck_lora}{Duck\+Lora}} $\ast$ \mbox{\hyperlink{class_duck_lora_a1cea316e6f0c21c27ee35d6c59620e41}{get\+Instance}} ()
\begin{DoxyCompactList}\small\item\em Get a singletom instance of the \mbox{\hyperlink{class_duck_lora}{Duck\+Lora}} class,. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Internal Lo\+Ra chip abstraction. 

Provides internal access to the Lo\+Ra chip driver. This class is used by other components of the C\+DP implementation. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_duck_lora_a6fc1b69d5602ef969198fa0be9d125c0}\label{class_duck_lora_a6fc1b69d5602ef969198fa0be9d125c0}} 
\index{DuckLora@{DuckLora}!couple@{couple}}
\index{couple@{couple}!DuckLora@{DuckLora}}
\doxysubsubsection{\texorpdfstring{couple()}{couple()}}
{\footnotesize\ttfamily void Duck\+Lora\+::couple (\begin{DoxyParamCaption}\item[{byte}]{byte\+Code,  }\item[{String}]{outgoing }\end{DoxyParamCaption})}



Append a chunk to the packet. 

A chunk is part of the \mbox{\hyperlink{class_duck}{Duck}} Lo\+Ra packet and is formated as \mbox{[}tag\mbox{]}\mbox{[}length\mbox{]}\mbox{[}payload\mbox{]} where a tag is a single byte identifying the chunk. Currently supported tags\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\mbox{\hyperlink{class_duck_lora_af9312284784b8e32ed26a3448a1e8816}{ping}}}
\DoxyCodeLine{sender\_id}
\DoxyCodeLine{topic}
\DoxyCodeLine{message\_id}
\DoxyCodeLine{payload}
\DoxyCodeLine{iamhere}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em byte\+Code} & identifies the tag to append \\
\hline
{\em outgoing} & the payload for the tag to be appended to the Lo\+Ra packet \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_duck_lora_a1cea316e6f0c21c27ee35d6c59620e41}\label{class_duck_lora_a1cea316e6f0c21c27ee35d6c59620e41}} 
\index{DuckLora@{DuckLora}!getInstance@{getInstance}}
\index{getInstance@{getInstance}!DuckLora@{DuckLora}}
\doxysubsubsection{\texorpdfstring{getInstance()}{getInstance()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_duck_lora}{Duck\+Lora}} $\ast$ Duck\+Lora\+::get\+Instance (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Get a singletom instance of the \mbox{\hyperlink{class_duck_lora}{Duck\+Lora}} class,. 

\begin{DoxyReturn}{Returns}
A pointer to a \mbox{\hyperlink{class_duck_lora}{Duck\+Lora}} object 
\end{DoxyReturn}
\mbox{\Hypertarget{class_duck_lora_afc4409e4ee7834972d25f67e33d0bda0}\label{class_duck_lora_afc4409e4ee7834972d25f67e33d0bda0}} 
\index{DuckLora@{DuckLora}!getLastPacket@{getLastPacket}}
\index{getLastPacket@{getLastPacket}!DuckLora@{DuckLora}}
\doxysubsubsection{\texorpdfstring{getLastPacket()}{getLastPacket()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_packet}{Packet}} Duck\+Lora\+::get\+Last\+Packet (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get the last received Lo\+Ra packet. 

\begin{DoxyReturn}{Returns}
A \mbox{\hyperlink{struct_packet}{Packet}} object containing the last received message. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_duck_lora_adb3312c322af099174f85c76c3886ba6}\label{class_duck_lora_adb3312c322af099174f85c76c3886ba6}} 
\index{DuckLora@{DuckLora}!getPacketData@{getPacketData}}
\index{getPacketData@{getPacketData}!DuckLora@{DuckLora}}
\doxysubsubsection{\texorpdfstring{getPacketData()}{getPacketData()}}
{\footnotesize\ttfamily String Duck\+Lora\+::get\+Packet\+Data (\begin{DoxyParamCaption}\item[{int}]{p\+Size }\end{DoxyParamCaption})}



Get the last received Lo\+Ra packet. 


\begin{DoxyParams}{Parameters}
{\em p\+Size} & size of the packet \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A string representing the last received message. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_duck_lora_a66a1014d0144145bac4e8ff42bec0b95}\label{class_duck_lora_a66a1014d0144145bac4e8ff42bec0b95}} 
\index{DuckLora@{DuckLora}!getPacketIndex@{getPacketIndex}}
\index{getPacketIndex@{getPacketIndex}!DuckLora@{DuckLora}}
\doxysubsubsection{\texorpdfstring{getPacketIndex()}{getPacketIndex()}}
{\footnotesize\ttfamily int Duck\+Lora\+::get\+Packet\+Index (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Get the current packet buffer index. 

\begin{DoxyReturn}{Returns}
Current index in the transmission buffer. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_duck_lora_a9806fb3b84eef06b1e6339b2ef315703}\label{class_duck_lora_a9806fb3b84eef06b1e6339b2ef315703}} 
\index{DuckLora@{DuckLora}!getRSSI@{getRSSI}}
\index{getRSSI@{getRSSI}!DuckLora@{DuckLora}}
\doxysubsubsection{\texorpdfstring{getRSSI()}{getRSSI()}}
{\footnotesize\ttfamily int Duck\+Lora\+::get\+R\+S\+SI (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get the current R\+S\+SI value. 

\begin{DoxyReturn}{Returns}
An integer representing the rssi value. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_duck_lora_a8ab70020c87dd3d2f2b0b00cf03e1f53}\label{class_duck_lora_a8ab70020c87dd3d2f2b0b00cf03e1f53}} 
\index{DuckLora@{DuckLora}!getTransmissionBuffer@{getTransmissionBuffer}}
\index{getTransmissionBuffer@{getTransmissionBuffer}!DuckLora@{DuckLora}}
\doxysubsubsection{\texorpdfstring{getTransmissionBuffer()}{getTransmissionBuffer()}}
{\footnotesize\ttfamily byte$\ast$ Duck\+Lora\+::get\+Transmission\+Buffer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Get the transmission buffer. 

\begin{DoxyReturn}{Returns}
An array of bytes containing the transmission packet 
\end{DoxyReturn}
\mbox{\Hypertarget{class_duck_lora_a46038e68b83b7c007ec5b59fe63cfec0}\label{class_duck_lora_a46038e68b83b7c007ec5b59fe63cfec0}} 
\index{DuckLora@{DuckLora}!getTransmitedByte@{getTransmitedByte}}
\index{getTransmitedByte@{getTransmitedByte}!DuckLora@{DuckLora}}
\doxysubsubsection{\texorpdfstring{getTransmitedByte()}{getTransmitedByte()}}
{\footnotesize\ttfamily byte Duck\+Lora\+::get\+Transmited\+Byte (\begin{DoxyParamCaption}\item[{int}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Get the transmited byte at the given index in the transmission buffer. 


\begin{DoxyParams}{Parameters}
{\em index} & position in the transmission buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The byte value in the transmission buffer at the given index. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_duck_lora_a498cb19262425f8dd564da347bbb6b55}\label{class_duck_lora_a498cb19262425f8dd564da347bbb6b55}} 
\index{DuckLora@{DuckLora}!handlePacket@{handlePacket}}
\index{handlePacket@{handlePacket}!DuckLora@{DuckLora}}
\doxysubsubsection{\texorpdfstring{handlePacket()}{handlePacket()}}
{\footnotesize\ttfamily int Duck\+Lora\+::handle\+Packet (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Handle a \mbox{\hyperlink{class_duck}{Duck}} Lo\+Ra packet. 

\begin{DoxyReturn}{Returns}
0 if handling was successful, an error code otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_duck_lora_a8b4c9558526d6a7131e0e6290cf7583f}\label{class_duck_lora_a8b4c9558526d6a7131e0e6290cf7583f}} 
\index{DuckLora@{DuckLora}!idInPath@{idInPath}}
\index{idInPath@{idInPath}!DuckLora@{DuckLora}}
\doxysubsubsection{\texorpdfstring{idInPath()}{idInPath()}}
{\footnotesize\ttfamily bool Duck\+Lora\+::id\+In\+Path (\begin{DoxyParamCaption}\item[{String}]{path }\end{DoxyParamCaption})}



Determine if a \mbox{\hyperlink{class_duck}{Duck}} device\+\_\+id is present in the path. 


\begin{DoxyParams}{Parameters}
{\em path} & path retrieved from the Lo\+Ra packet \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the id is in the path, false otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_duck_lora_a7e17d8f0d816ec5debbe76c9ea370626}\label{class_duck_lora_a7e17d8f0d816ec5debbe76c9ea370626}} 
\index{DuckLora@{DuckLora}!loraPacketReceived@{loraPacketReceived}}
\index{loraPacketReceived@{loraPacketReceived}!DuckLora@{DuckLora}}
\doxysubsubsection{\texorpdfstring{loraPacketReceived()}{loraPacketReceived()}}
{\footnotesize\ttfamily bool Duck\+Lora\+::lora\+Packet\+Received (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Check if a received packet is available for processing. 

\begin{DoxyReturn}{Returns}
true if a packet was available, false otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_duck_lora_af9312284784b8e32ed26a3448a1e8816}\label{class_duck_lora_af9312284784b8e32ed26a3448a1e8816}} 
\index{DuckLora@{DuckLora}!ping@{ping}}
\index{ping@{ping}!DuckLora@{DuckLora}}
\doxysubsubsection{\texorpdfstring{ping()}{ping()}}
{\footnotesize\ttfamily int Duck\+Lora\+::ping (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Transmit a ping message. 

\begin{DoxyReturn}{Returns}
0 if the message was sent sucessfully, an error code otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_duck_lora_aa7de4996461442a51cf3e268782608bd}\label{class_duck_lora_aa7de4996461442a51cf3e268782608bd}} 
\index{DuckLora@{DuckLora}!sendPayloadStandard@{sendPayloadStandard}}
\index{sendPayloadStandard@{sendPayloadStandard}!DuckLora@{DuckLora}}
\doxysubsubsection{\texorpdfstring{sendPayloadStandard()}{sendPayloadStandard()}}
{\footnotesize\ttfamily int Duck\+Lora\+::send\+Payload\+Standard (\begin{DoxyParamCaption}\item[{String}]{msg = {\ttfamily \char`\"{}\char`\"{}},  }\item[{String}]{topic = {\ttfamily \char`\"{}\char`\"{}},  }\item[{String}]{sender\+Id = {\ttfamily \char`\"{}\char`\"{}},  }\item[{String}]{message\+Id = {\ttfamily \char`\"{}\char`\"{}},  }\item[{String}]{path = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})}



Send a message out into the Lo\+Ra mesh network. 


\begin{DoxyParams}{Parameters}
{\em msg} & payload representing the message \\
\hline
{\em topic} & the message topic \\
\hline
{\em sender\+Id} & the device\+\_\+id of the sender \\
\hline
{\em message\+Id} & the id of the message \\
\hline
{\em path} & a comma separated list of devide ids having seens the message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
D\+U\+C\+K\+\_\+\+E\+R\+R\+\_\+\+N\+O\+NE if the message was sent successfully, an error code otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_duck_lora_a78f90934cee9a88727ed0ee1620d38e2}\label{class_duck_lora_a78f90934cee9a88727ed0ee1620d38e2}} 
\index{DuckLora@{DuckLora}!setupLoRa@{setupLoRa}}
\index{setupLoRa@{setupLoRa}!DuckLora@{DuckLora}}
\doxysubsubsection{\texorpdfstring{setupLoRa()}{setupLoRa()}}
{\footnotesize\ttfamily int Duck\+Lora\+::setup\+Lo\+Ra (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_lora_config_params}{Lora\+Config\+Params}}}]{config,  }\item[{String}]{device\+Id }\end{DoxyParamCaption})}



Initialize the Lo\+Ra chip. 


\begin{DoxyParams}{Parameters}
{\em config} & lora configurstion parameters \\
\hline
{\em device\+Id} & device id \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if initialization was successful, an error code otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_duck_lora_a697bcb3b4b86a89e435e9847ea53133c}\label{class_duck_lora_a697bcb3b4b86a89e435e9847ea53133c}} 
\index{DuckLora@{DuckLora}!standBy@{standBy}}
\index{standBy@{standBy}!DuckLora@{DuckLora}}
\doxysubsubsection{\texorpdfstring{standBy()}{standBy()}}
{\footnotesize\ttfamily int Duck\+Lora\+::stand\+By (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Set the Lo\+Ra chip in standby mode. 

\begin{DoxyReturn}{Returns}
D\+U\+C\+K\+\_\+\+E\+R\+R\+\_\+\+N\+O\+NE if the chip is sucessfuly set in standby mode, an error code otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_duck_lora_ae424ab4952338bc47cede61085af93a7}\label{class_duck_lora_ae424ab4952338bc47cede61085af93a7}} 
\index{DuckLora@{DuckLora}!startReceive@{startReceive}}
\index{startReceive@{startReceive}!DuckLora@{DuckLora}}
\doxysubsubsection{\texorpdfstring{startReceive()}{startReceive()}}
{\footnotesize\ttfamily int Duck\+Lora\+::start\+Receive (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Set the \mbox{\hyperlink{class_duck}{Duck}} to be ready to recieve Lo\+Ra packets. 

\begin{DoxyReturn}{Returns}
D\+U\+C\+K\+\_\+\+E\+R\+R\+\_\+\+N\+O\+NE if the call was successful, an error code otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_duck_lora_a9b9af508f6c47491779d84e62e98501a}\label{class_duck_lora_a9b9af508f6c47491779d84e62e98501a}} 
\index{DuckLora@{DuckLora}!transmitData@{transmitData}}
\index{transmitData@{transmitData}!DuckLora@{DuckLora}}
\doxysubsubsection{\texorpdfstring{transmitData()}{transmitData()}}
{\footnotesize\ttfamily int Duck\+Lora\+::transmit\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Set the \mbox{\hyperlink{class_duck}{Duck}} to be ready to transmit Lo\+Ra packets. 

\begin{DoxyReturn}{Returns}
D\+U\+C\+K\+\_\+\+E\+R\+R\+\_\+\+N\+O\+NE if the call was successful, an error code otherwise. 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/include/\mbox{\hyperlink{_duck_lora_8h}{Duck\+Lora.\+h}}\item 
src/Duck\+Lora.\+cpp\end{DoxyCompactItemize}
